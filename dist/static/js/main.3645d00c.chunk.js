(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{409:function(e,t,a){e.exports=a(823)},414:function(e,t,a){},757:function(e,t){},759:function(e,t){},790:function(e,t,a){e.exports=a.p+"static/media/c.30e8361c.docx"},823:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(39),l=a.n(i),c=(a(414),a(415),a(416),a(417),a(9)),o=a(10),s=a(12),u=a(11),d=a(13),m=a(6),h=a(73),p=a(15),b={Admin:"Admin",Student:"Student",Marketing_Manager:"Marketing Manager",Cordinator:"Cordinator"},f={Pending:"pending",Approved:"approved",Publish:"publish"},g=function(e){return function(t,a,n){var r=n.getFirebase,i=n.getFirestore,l=r(),c=i();t({type:"SIGNUP"}),console.log(l.apps.length," 12312312");l.apps.length<2&&l.initializeApp({apiKey:"AIzaSyB6srSMJ45h1Ld-p4b44sGPKba33AmfVQU",authDomain:"testschool-30bdb.firebaseapp.com",databaseURL:"https://testschool-30bdb.firebaseio.com",projectId:"testschool-30bdb",storageBucket:"testschool-30bdb.appspot.com",messagingSenderId:"322977217549"},"Secondary"),l.app("Secondary").auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,role:e.role.label||"Student",userId:t.user.uid,email:e.email,studentId:e.studentId,faculty:e.role.label===b.Marketing_Manager?"All":e.faculty.label}),l.app("Secondary").auth().signOut()}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}},E=a(4),O=a(389),j=a.n(O),v=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%"}},r.a.createElement(j.a,{type:"Circles",color:"gray",height:"50",width:"50"})):null}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dispatchSignOut,a=e.profile,n=a.firstName,i=void 0===n?"":n,l=a.lastName,c=void 0===l?"":l,o=e.profile;return Object(E.isEmpty)(o)?r.a.createElement(v,{isLoading:!0}):o.role===b.Student?r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.c,{to:"/createProject"},"New Contribution")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/contributions"},"Contributions")),r.a.createElement("li",null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement("li",null,r.a.createElement(m.c,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0)))):o.role===b.Cordinator?r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.c,{to:"/createStudents"},"Create Students")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/students"},"Manage Students")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/contributions"},"Contributions")),r.a.createElement("li",null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement("li",null,r.a.createElement(m.c,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0)))):o.role===b.Marketing_Manager?r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.c,{to:"/createCordinators"},"Create Coordinators")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/students"},"Manage Account")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/contributions"},"Contributions")),r.a.createElement("li",null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement("li",null,r.a.createElement(m.c,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0)))):o.role===b.Admin?r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.c,{to:"/createAccount"},"Create Account")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/students"},"Manage Account")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/reports"},"Reports")),r.a.createElement("li",null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement("li",null,r.a.createElement(m.c,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0)))):r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.c,{to:"/createProject"},"New Contribution")),r.a.createElement("li",null,r.a.createElement(m.c,{to:"/contributions"},"Contributions")),r.a.createElement("li",null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement("li",null,r.a.createElement(m.c,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0))))}}]),t}(n.Component),C=Object(p.b)(function(e){return{profile:e.firebase.profile,auth:e.firebase.auth}},function(e){return{dispatchSignOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(y),N=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.c,{to:"/signin"},"Log In")))}}]),t}(n.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.auth;return r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(m.b,{to:"/home",className:"brand-logo left"},"Greenwich University"),e.uid?r.a.createElement(C,null):r.a.createElement(N,null)))}}]),t}(n.Component),w=Object(p.b)(function(e){return{auth:e.firebase.auth}})(S),k=a(24),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSubmit=function(e){var t=a.props.dispatchSignIn;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return e.authIsLoading?r.a.createElement(v,{isLoading:!0}):t.uid?r.a.createElement(h.a,{to:"/home"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Login")),r.a.createElement("h5",{style:{color:"red"}},a)))}}]),t}(n.Component),I=Object(p.b)(function(e){return{authError:e.auth.authError,authIsLoading:e.auth.isLoading,auth:e.firebase.auth}},function(e){return{dispatchSignIn:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)();e({type:"LOGIN"}),r.auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(L),A=a(20),F=a(16),U=[{label:"Select",field:"select",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30}],D=[{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30},{label:"Download",field:"download",sort:"asc",width:30}],P=[{label:"Select",field:"select",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30},{label:"Faculty",field:"faculty",sort:"asc",width:100}],T=[{label:"Email",field:"email",sort:"asc",width:150},{label:"First Name",field:"firstName",sort:"asc",width:200},{label:"Last Name",field:"lastName",sort:"asc",width:270},{label:"Role",field:"role",sort:"asc",width:200},{label:"Faculty",field:"faculty",sort:"asc",width:100}],R=[{label:"Status",field:"status",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30}],_=a(91),x=a(251),M=function(e,t){return function(a,n,r){r.getFirebase;var i=(0,r.getFirestore)();e.map(function(e){return a({type:"APPROVE_PROJECT"}),i.collection("posts").doc(e).set({status:t},{merge:!0}).then(function(){a({type:"APPROVE_PROJECT_SUCCESS"})}).catch(function(e){console.log(e,"errrr")})})}},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={checkItem:{},project_ids:[]},a.onCheckItem=function(e,t){var n=a.state,r=n.project_ids,i=n.checkItem,l=r;t.target.checked?(i[e.id]=e.fileURL,l.push(e.id)):(l=Object(E.filter)(l,function(t){return t!==e.id}),delete i[e.id]),a.setState({checkItem:i,project_ids:l})},a.getPostsDataTable=function(){var e,t=a.props.posts;e=t.filter(function(e){return"publish"===e.status});var n={columns:D},i=Object(E.map)(e,function(e){return{title:e.title,studentId:e.studentId,studentName:e.studentName,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.c,{to:"/contributionDetail/".concat(e.id),style:{color:"blue"}},"View File"),download:r.a.createElement("a",{href:e.fileURL,style:{color:"blue"}},"Download")}});return n.rows=i,n},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.posts;return e.isLoading?r.a.createElement(v,{isLoading:!0}):Object(E.isEmpty)(t)?r.a.createElement(v,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement(_.a,{striped:!0,bordered:!0,small:!0,data:this.getPostsDataTable()}))}}]),t}(n.Component),G=Object(F.d)(Object(p.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){return{dispatchApproveProjects:function(t,a){return e(M(t,a))}}}),Object(A.firestoreConnect)(["projects","users","posts"]))(B),J=a(174),V=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",wordFile:"",url:"",agreeTermAndPolicies:!1},a.handleSubmit=function(e){var t=a.props.dispatchCreateProject;e.preventDefault(),t(a.state)},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleFileUpload=function(e){var t,n=e.target,r=n.id,i=n.value,l=n.files;a.setState((t={},Object(k.a)(t,r,i),Object(k.a)(t,"wordFile",l[0]),t))},a.onCheckItem=function(e){a.setState({agreeTermAndPolicies:e.target.checked})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.profile,i=t.isLoading,l=this.state.agreeTermAndPolicies;return i?r.a.createElement(v,{isLoading:!0}):n.isEmpty?r.a.createElement(v,{isLoading:!0}):a.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Contributions"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{type:"text",id:"description",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"file",id:"url",onChange:this.handleFileUpload})),r.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",direction:"row"}},r.a.createElement("label",{style:{marginTop:10}},r.a.createElement(J.a,{onChange:function(t,a){return e.onCheckItem(t)}})),"I accept Greenwich University Contribution's"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Terms_of_service"},"Terms & Conditions")),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{disabled:!l,className:"btn pink lighten-1 z-depth-0"},"Submit")))):r.a.createElement(h.a,{to:"/signin"})}}]),t}(n.Component),z=Object(p.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,isLoading:e.project.isLoading}},function(e){return{dispatchCreateProject:function(t){return e(function(e){return function(t,a,n){var r=n.getFirestore;n.getFirebase,t({type:"CREATE_PROJECT",project:e});var i=r(),l=a().firebase.profile;Object(x.storage)().ref("images/".concat(e.wordFile.name)).put(e.wordFile).on("state_changed",function(e){},function(e){console.log(e)},function(){Object(x.storage)().ref("images").child(e.wordFile.name).getDownloadURL().then(function(a){i.collection("posts").add({title:e.title,fileURL:a,description:e.description,currentUpdatedNumber:0,createdDateTime:(new Date).toString(),updatedDateTime:"",faculty:l.faculty,studentId:l.studentId,userId:l.userId,studentName:"".concat(l.lastName," ").concat(l.firstName),status:"pending"}).then(function(){t({type:"CREATE_PROJECT_SUCCESS",project:e})}).catch(function(e){alert(e)})})})}}(t))}}})(V),W=a(17),K=a(74),Q=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],$=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSelectChange=function(e){a.setState({faculty:e})},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError,n=e.users,i=e.isLoading,l=this.state.faculty;return Object(E.isEmpty)(t.uid)?r.a.createElement(h.a,{to:"/"}):Object(E.isEmpty)(n)||i?r.a.createElement(v,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(K.a,{styles:{option:function(e,t){return Object(W.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(W.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:l,onChange:this.handleSelectChange,options:Q}),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),a&&r.a.createElement("h7",{className:"red-text text-darken-3"},a)))}}]),t}(n.Component),q=Object(F.d)(Object(p.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(A.firestoreConnect)(["users"]))($),H=a(403),X=a(404),Y=a.n(X),Z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={checkItem:{},project_ids:[]},n.onCheckItem=function(e,t){var a=n.state,r=a.project_ids,i=a.checkItem,l=r;t.target.checked?(i[e.id]=e.fileURL,l.push(e.id)):(l=Object(E.filter)(l,function(t){return t!==e.id}),delete i[e.id]),n.setState({checkItem:i,project_ids:l})},n.getStatusColor=function(e){return e===f.Pending?"orange":e===f.Approved?"green":e===f.Publish?"blue":void 0},n.getPostsDataTable=function(){var e=n.props,t=e.posts,a=e.profile,i=t;i=t.filter(function(e){return"pending"===e.status});var l=[],c={columns:U};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(i=t.filter(function(e){return"approved"===e.status}),c.columns=P),Object(E.get)(a,"role","")===b.Student&&(i=t.filter(function(e){return e.studentId===a.studentId}),c.columns=R),Object(E.get)(a,"role","")===b.Cordinator&&(i=t.filter(function(e){return"pending"===e.status&&e.faculty===Object(E.get)(a,"faculty","")})),l=Object(E.map)(i,function(e){var t={select:r.a.createElement("label",null,r.a.createElement(J.a,{onChange:function(t,a){return n.onCheckItem(e,t)}})),title:e.title,studentId:e.studentId,studentName:e.studentName,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.c,{to:"/contributionDetail/".concat(e.id),style:{color:"blue"}},"View File")};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(t.faculty=e.faculty),t}),Object(E.get)(a,"role","")===b.Student&&(l=Object(E.map)(i,function(e){var t={status:r.a.createElement("h7",{style:{color:n.getStatusColor(e.status)}},Object(E.upperFirst)(e.status)),title:e.title,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.c,{to:"/contributionDetail/".concat(e.id),style:{color:"blue"}},"View File")};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(t.faculty=e.faculty),t})),c.rows=l,c},n.onDownload=function(){var e,t=n.state.checkItem,r=a(752)(),i=t[Object.keys(t)[0]];Y.a.getBinaryContent(i,function(e,t){if(e)throw e;this.setState({file:i})}),e=r.file("DOCS/document.docx","asdiasudg",{binary:!1}),r.generateAsync({type:"blob",compression:"DEFLATE"}).then(function(e){Object(H.saveAs)(e,"example.zip")}),console.log(e)},n.onAccept=function(){var e=n.props,t=e.dispatchApproveProjects,a=e.profile;return Object(E.get)(a,"role","")===b.Marketing_Manager?t(n.state.project_ids,"publish"):Object(E.get)(a,"role","")===b.Cordinator?t(n.state.project_ids,"approved"):void 0},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts,n=e.isLoading,i=e.profile,l=this.state.checkItem;return n?r.a.createElement(v,{isLoading:!0}):Object(E.isEmpty)(a)||Object(E.isEmpty)(i)?r.a.createElement(v,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement("div",null,i.role!==b.Student&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn pink lighten-1 right",disabled:Object(E.isEmpty)(l),onClick:this.onAccept},"Accept"),r.a.createElement("button",{className:"btn pink lighten-1 right",disabled:Object(E.isEmpty)(l),onClick:this.onDownload},"Download")),r.a.createElement(_.a,{striped:!0,bordered:!0,small:!0,data:this.getPostsDataTable()}))):r.a.createElement(h.a,{to:"/signin"})}}]),t}(n.Component),ee=Object(F.d)(Object(p.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){return{dispatchApproveProjects:function(t,a){return e(M(t,a))}}}),Object(A.firestoreConnect)(["projects","users","posts"]))(Z),te=a(405),ae=a.n(te),ne=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPostById=function(){var e=a.props,t=e.posts,n=e.match;return Object(E.find)(t,function(e){return e.id===n.params.id})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,n=e.posts;return Object(E.isEmpty)(n)?r.a.createElement(v,{isLoading:!0}):(console.log(this.getPostById().fileURL,"this.getPostById().fileURL"),t.uid?r.a.createElement(ae.a,{fileType:"docx",filePath:a(790),errorComponent:r.a.createElement(v,{isLoading:!0}),onError:function(){return console.log("errooorrrrrr")}}):r.a.createElement(h.a,{to:"/signin"}))}}]),t}(n.Component),re=Object(F.d)(Object(p.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts}}),Object(A.firestoreConnect)(["projects","users","posts"]))(ne),ie=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],le=[{value:b.Cordinator,label:b.Cordinator},{value:b.Marketing_Manager,label:b.Marketing_Manager}],ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Marketing_Manager,label:b.Marketing_Manager}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(k.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError,i=t.users,l=t.isLoading,c=this.state,o=c.faculty,s=c.role;return Object(E.isEmpty)(a.uid)?r.a.createElement(h.a,{to:"/"}):Object(E.isEmpty)(i)||l?r.a.createElement(v,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the role:"),r.a.createElement(K.a,{styles:{option:function(e,t){return Object(W.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(W.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:s,onChange:function(t){return e.handleSelectChange("role",t)},options:le})),s.value===b.Cordinator&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(K.a,{styles:{option:function(e,t){return Object(W.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(W.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:o,onChange:function(t){return e.handleSelectChange("faculty",t)},options:ie})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),n&&r.a.createElement("h7",{className:"red-text text-darken-3"},n)))}}]),t}(n.Component),oe=Object(F.d)(Object(p.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(A.firestoreConnect)(["users"]))(ce),se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checkItem:{},project_ids:[]},a.onCheckItem=function(e,t){var n=a.state,r=n.project_ids,i=n.checkItem,l=r;t.target.checked?(i[e.id]=e.fileURL,l.push(e.id)):(l=Object(E.filter)(l,function(t){return t!==e.id}),delete i[e.id]),a.setState({checkItem:i,project_ids:l})},a.getUserData=function(){var e=a.props,t=e.users,n=e.profile,r={columns:T},i=t;Object(E.get)(n,"role","")===b.Marketing_Manager&&(i=Object(E.filter)(i,function(e){return e.role!==b.Admin})),Object(E.get)(n,"role","")===b.Cordinator&&(i=Object(E.filter)(i,function(e){return e.role!==b.Admin&&e.role!==b.Marketing_Manager&&e.role!==b.Cordinator&&e.faculty===Object(E.get)(n,"faculty","")}));var l=Object(E.map)(i,function(e){return{email:e.email,firstName:e.firstName,lastName:e.lastName,role:e.role,faculty:e.faculty}});return r.rows=l,r},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.users;return Object(E.isEmpty)(a)?r.a.createElement(v,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement(_.a,{striped:!0,bordered:!0,small:!0,data:this.getUserData()})):r.a.createElement(h.a,{to:"/signin"})}}]),t}(n.Component),ue=Object(F.d)(Object(p.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,users:e.firestore.ordered.users}},function(e){return{dispatchApproveProjects:function(t){return e(M(t))}}}),Object(A.firestoreConnect)(["users"]))(se),de=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Cordinator,label:b.Cordinator}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(k.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError,i=t.users,l=t.isLoading,c=this.state,o=c.faculty,s=c.role;return Object(E.isEmpty)(a.uid)?r.a.createElement(h.a,{to:"/"}):Object(E.isEmpty)(i)||l?r.a.createElement(v,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),s.value===b.Cordinator&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(K.a,{styles:{option:function(e,t){return Object(W.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(W.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:o,onChange:function(t){return e.handleSelectChange("faculty",t)},options:de})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),n&&r.a.createElement("h7",{className:"red-text text-darken-3"},n)))}}]),t}(n.Component),he=Object(F.d)(Object(p.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(A.firestoreConnect)(["users"]))(me),pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Student,label:b.Student}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(k.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(k.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.users,a=e.profile;this.isLoaded||Object(E.isEmpty)(t)||Object(E.isEmpty)(a.faculty)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-t.length.toString().length)).concat(t.length),faculty:{value:a.faculty,label:a.faculty}}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError,n=e.users,i=e.isLoading;return Object(E.isEmpty)(t.uid)?r.a.createElement(h.a,{to:"/"}):Object(E.isEmpty)(n)||i?r.a.createElement(v,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Students"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"CREATE")),a&&r.a.createElement("h7",{className:"red-text text-darken-3"},a)))}}]),t}(n.Component),be=Object(F.d)(Object(p.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,profile:e.firebase.profile,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(A.firestoreConnect)(["users"]))(pe),fe=a(253),ge=a(406),Ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checkItem:{},project_ids:[]},a.getContributionsByFaculty=function(e){var t=a.props.posts,n=Object(E.filter)(t,function(t){return t.faculty===e}),r=Object(E.reduce)([0,1,2,3,4,5,6,7,8,9,10,11],function(e,t){var a=e,r=Object(E.filter)(n,function(e){return new Date(e.createdDateTime).getMonth()===t});return Object(E.isEmpty)(r)?[].concat(Object(fe.a)(a),[0]):[].concat(Object(fe.a)(a),[r.length])},[]);return console.log(r,"contributionsByMonth"),r},a.getChartData=function(){return{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Marketing",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:a.getContributionsByFaculty("Marketing")},{label:"IT",backgroundColor:"rgba(152,251,152, 0.2)",borderColor:"rgba(0,100,0)",borderWidth:1,hoverBackgroundColor:"rgba(152,251,152, 0.6)",hoverBorderColor:"rgba(0,100,0)",data:a.getContributionsByFaculty("IT")},{label:"Design",backgroundColor:"rgba(135,206,250, 0.2)",borderColor:"rgba(0,191,255)",borderWidth:1,hoverBackgroundColor:"rgba(135,206,250, 0.4)",hoverBorderColor:"rgba(0,191,255)",data:a.getContributionsByFaculty("Design")}]}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts,n=e.isLoading,i=e.profile;return n?r.a.createElement(v,{isLoading:!0}):Object(E.isEmpty)(a)||Object(E.isEmpty)(i)?r.a.createElement(v,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement("h5",{style:{fontWeight:"bold",marginTop:10}},"Number of Reports By Month of Each Faculty"),r.a.createElement(ge.a,{data:this.getChartData(),height:500,options:{maintainAspectRatio:!1}})):r.a.createElement(h.a,{to:"/signin"})}}]),t}(n.Component),Oe=Object(F.d)(Object(p.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){}),Object(A.firestoreConnect)(["projects","users","posts"]))(Ee),je=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(w,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/signin",component:I}),r.a.createElement(h.b,{path:"/home",component:G}),r.a.createElement(h.b,{path:"/createProject",component:z}),r.a.createElement(h.b,{path:"/contributionDetail/:id",component:re}),r.a.createElement(h.b,{path:"/contributions",component:ee}),r.a.createElement(h.b,{path:"/signUp",component:q}),r.a.createElement(h.b,{path:"/createStudents",component:be}),r.a.createElement(h.b,{path:"/createAccount",component:oe}),r.a.createElement(h.b,{path:"/createCordinators",component:he}),r.a.createElement(h.b,{path:"/students",component:ue}),r.a.createElement(h.b,{path:"/reports",component:Oe}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ve={authError:null,isLoading:!1},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(W.a)({},e,{authError:null,isLoading:!0});case"LOGIN_ERROR":return console.log(t.err.code,"asdiahsd"),"auth/user-not-found"===t.err.code?Object(W.a)({},e,{authError:"User Name not found. Please try again",isLoading:!1}):"auth/wrong-password"===t.err.code?Object(W.a)({},e,{authError:"Wrong Password. Please try again",isLoading:!1}):Object(W.a)({},e,{authError:"Login failed",isLoading:!1});case"LOGIN_SUCCESS":return Object(W.a)({},e,{authError:null,isLoading:!1});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP":return Object(W.a)({},e,{isLoading:!0,authError:null});case"SIGNUP_SUCCESS":return console.log("signup success"),Object(W.a)({},e,{authError:null,isLoading:!1});case"SIGNUP_ERROR":return console.log("signup error"),Object(W.a)({},e,{authError:t.err.message,isLoading:!1});default:return e}},Ce={isLoading:!1},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce;switch((arguments.length>1?arguments[1]:void 0).type){case"CREATE_PROJECT":return Object(W.a)({},e,{isLoading:!0});case"CREATE_PROJECT_SUCCESS":case"APPROVE_PROJECT_SUCCESS":return Object(W.a)({},e,{isLoading:!1});case"APPROVE_PROJECT":return Object(W.a)({},e,{isLoading:!0});default:return e}},Se=a(124),we=Object(F.c)({auth:ye,project:Ne,firestore:Se.firestoreReducer,firebase:A.firebaseReducer}),ke=a(407),Le=a(175),Ie=a.n(Le);a(821),a(822);Ie.a.initializeApp({apiKey:"AIzaSyB6srSMJ45h1Ld-p4b44sGPKba33AmfVQU",authDomain:"testschool-30bdb.firebaseapp.com",databaseURL:"https://testschool-30bdb.firebaseio.com",projectId:"testschool-30bdb",storageBucket:"testschool-30bdb.appspot.com",messagingSenderId:"322977217549"});Ie.a.storage;var Ae=Ie.a,Fe=Object(F.e)(we,Object(F.d)(Object(F.a)(ke.a.withExtraArgument({getFirebase:A.getFirebase,getFirestore:Se.getFirestore})),Object(Se.reduxFirestore)(Ae),Object(A.reactReduxFirebase)(Ae,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0})));Fe.firebaseAuthIsReady.then(function(){l.a.render(r.a.createElement(p.a,{store:Fe},r.a.createElement(je,null)),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[409,1,2]]]);
//# sourceMappingURL=main.3645d00c.chunk.js.map