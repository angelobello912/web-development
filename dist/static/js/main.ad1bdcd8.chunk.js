(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{445:function(e,t,a){e.exports=a(878)},450:function(e,t,a){},811:function(e,t){},813:function(e,t){},844:function(e,t,a){e.exports=a.p+"static/media/a.feb920e4.docx"},878:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),o=a.n(i),c=(a(450),a(451),a(452),a(453),a(10)),l=a(11),s=a(13),u=a(12),d=a(14),m=a(9),p=a(57),h=a(17),b={Admin:"Admin",Student:"Student",Marketing_Manager:"Marketing Manager",Cordinator:"Cordinator"},f={Pending:"pending",Approved:"approved",Publish:"publish",Reject:"reject"},g=function(e){return function(t,a,n){var r=n.getFirebase,i=n.getFirestore,o=r(),c=i();t({type:"SIGNUP"}),console.log(o.apps.length," 12312312");o.apps.length<2&&o.initializeApp({apiKey:"AIzaSyB6srSMJ45h1Ld-p4b44sGPKba33AmfVQU",authDomain:"testschool-30bdb.firebaseapp.com",databaseURL:"https://testschool-30bdb.firebaseio.com",projectId:"testschool-30bdb",storageBucket:"testschool-30bdb.appspot.com",messagingSenderId:"322977217549"},"Secondary"),o.app("Secondary").auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return c.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,role:e.role.label||"Student",userId:t.user.uid,email:e.email,studentId:e.studentId,faculty:e.role.label===b.Marketing_Manager?"All":e.faculty.label}),o.app("Secondary").auth().signOut()}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}},E=a(4),j=a(421),v=a.n(j),O=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%"}},r.a.createElement(v.a,{type:"Circles",color:"gray",height:"50",width:"50"})):null}}]),t}(n.Component),y=a(886),C=a(883),N=a(885),k=a(884),S=a(18),w=a(20),L=a(278),I=a(23),F=a(68),D=a(279),T=function(e){return function(t,a,n){var r=n.getFirestore;n.getFirebase;t({type:"CREATE_PROJECT",project:e});var i=r(),o=a().firebase.profile;Object(D.storage)().ref("images/".concat(e.wordFile.name)).put(e.wordFile).on("state_changed",function(e){},function(e){console.log(e)},function(){Object(D.storage)().ref("images").child(e.wordFile.name).getDownloadURL().then(function(a){i.collection("posts").add({title:e.title,fileURL:a,description:e.description,currentUpdatedNumber:0,createdDateTime:(new Date).toString(),updatedDateTime:"",faculty:o.faculty,studentId:o.studentId,userId:o.userId,studentName:"".concat(o.lastName," ").concat(o.firstName),status:"pending"}).then(function(){t({type:"CREATE_PROJECT_SUCCESS",project:e})}).catch(function(e){alert(e)})})})}},P=function(e,t){return function(a,n,r){r.getFirebase;var i=(0,r.getFirestore)(),o=n(),c=n().firebase.profile;e.map(function(e){var n=Object(E.find)(o.firestore.ordered.posts,function(t){return t.id===e});return a({type:"APPROVE_PROJECT"}),i.collection("posts").doc(e).set({status:t},{merge:!0}).then(function(){i.collection("notifications").add({isRead:!1,postId:e,senderId:c.userId,senderName:c.firstName+" "+c.lastName,text:"".concat(t," your contribution"),recieverId:n.userId}),a({type:"APPROVE_PROJECT_SUCCESS"})}).catch(function(e){console.log(e,"errrr")})})}},A=function(e){function t(e,a){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e,a))).readNoti=function(e,t,a){var r=n.props.dispatchReadNoti;e.preventDefault(),r(t),n.props.history.push("/viewDetail/".concat(a))},n.renderNotifications=function(){var e=n.props,t=e.profile,a=t.firstName,i=void 0===a?"":a,o=t.lastName,c=void 0===o?"":o,l=e.notifications,s=e.profile,u=l.filter(function(e){return e.recieverId===s.userId}),d=u.filter(function(e){return!e.isRead});return Object(E.isEmpty)(d)?r.a.createElement(L.a,{trigger:r.a.createElement("button",{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0)),modal:!0,closeOnDocumentClick:!0},r.a.createElement(y.a,null,u.map(function(e){return r.a.createElement(y.a.Item,{action:!0,style:{marginBottom:10},active:!e.isRead,onClick:function(t){return n.readNoti(t,e.id,e.postId)}},"".concat(e.senderName," ").concat(e.text))}))):r.a.createElement(L.a,{trigger:r.a.createElement("button",{className:"btn pink lighten-1"},d.length),modal:!0,closeOnDocumentClick:!0},r.a.createElement(y.a,null,u.map(function(e){return r.a.createElement(y.a.Item,{action:!0,style:{marginBottom:10},active:!e.isRead,onClick:function(t){return n.readNoti(t,e.id,e.postId)}},"".concat(e.senderName," ").concat(e.text))})))},n.handleClick=function(e){var t=e.target;n.setState(function(e){return{target:t,show:!e.show}})},n.state={show:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dispatchSignOut,a=e.profile,n=a.firstName,i=void 0===n?"":n,o=a.lastName,c=void 0===o?"":o,l=e.profile,s=e.notifications;return Object(E.isEmpty)(s)?null:Object(E.isEmpty)(l)?r.a.createElement(O,{isLoading:!0}):l.role===b.Student?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/createProject"},"New Contribution")),r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/contributions"},"Contributions"))),r.a.createElement(N.a,null,r.a.createElement(N.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(N.a.Link,null,this.renderNotifications())))):l.role===b.Cordinator?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/createStudents"},"Create Students")),r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/students"},"Manage Students")),r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/contributions"},"Contributions"))),r.a.createElement(N.a,null,r.a.createElement(N.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(N.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0)))))):l.role===b.Marketing_Manager?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/createCordinators"},"Create Coordinators")),r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/students"},"Manage Account")),r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/contributions"},"Contributions"))),r.a.createElement(N.a,null,r.a.createElement(N.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(N.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0)))))):l.role===b.Admin?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/createAccount"},"Create Account")),r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/students"},"Manage Account")),r.a.createElement(k.a,{title:"Reports",id:"collasible-nav-dropdown"},r.a.createElement(k.a.Item,null,r.a.createElement(m.b,{to:"/reports"},"Number of Reports")),r.a.createElement(k.a.Item,null,r.a.createElement(m.b,{to:"/reports2"},"Percentage of contributions")),r.a.createElement(k.a.Item,null,r.a.createElement(m.b,{to:"/reports3"},"Number of contributors within each Faculty")))),r.a.createElement(N.a,null,r.a.createElement(N.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(N.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0)))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(C.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(N.a,{className:"mr-auto"},r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/createProject"},"New Contribution")),r.a.createElement(N.a.Link,null,r.a.createElement(m.b,{to:"/contributions"},"Contributions"))),r.a.createElement(N.a,null,r.a.createElement(N.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(N.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+c.charAt(0))))))}}]),t}(n.Component),U=Object(S.d)(Object(h.b)(function(e){return{profile:e.firebase.profile,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}},function(e){return{dispatchSignOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})},dispatchReadNoti:function(t){return e((a=t,function(e,t,n){return n.getFirebase,(0,n.getFirestore)().collection("notifications").doc(a).set({isRead:!0},{merge:!0}).then(function(){}).catch(function(e){console.log(e,"errrr")})}));var a}}}),Object(w.firestoreConnect)(["notifications"]))(Object(p.f)(A)),R=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/signin"},"Log In")))}}]),t}(n.Component),x=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth;return r.a.createElement(C.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement("div",{className:"container"},r.a.createElement(C.a.Brand,{style:{marginTop:-15}},r.a.createElement(m.b,{to:"/home"},"Greenwich University")),e.uid?r.a.createElement(U,null):r.a.createElement(R,null)))}}]),t}(n.Component),_=Object(h.b)(function(e){return{auth:e.firebase.auth}})(x),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(I.a)({},n,r))},a.handleSubmit=function(e){var t=a.props.dispatchSignIn;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return e.authIsLoading?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement(p.a,{to:"/home"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1"},"Login")),r.a.createElement("h5",{style:{color:"red"}},a)))}}]),t}(n.Component),B=Object(h.b)(function(e){return{authError:e.auth.authError,authIsLoading:e.auth.isLoading,auth:e.firebase.auth}},function(e){return{dispatchSignIn:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)();e({type:"LOGIN"}),r.auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(M),G=[{label:"Select",field:"select",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30}],V=[{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30},{label:"Download",field:"download",sort:"asc",width:30}],W=[{label:"Select",field:"select",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30},{label:"Faculty",field:"faculty",sort:"asc",width:100}],J=[{label:"Email",field:"email",sort:"asc",width:150},{label:"First Name",field:"firstName",sort:"asc",width:200},{label:"Last Name",field:"lastName",sort:"asc",width:270},{label:"Role",field:"role",sort:"asc",width:200},{label:"Faculty",field:"faculty",sort:"asc",width:100}],z=[{label:"Status",field:"status",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30}],K=a(107),Q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={checkItem:{},project_ids:[]},a.onCheckItem=function(e,t){var n=a.state,r=n.project_ids,i=n.checkItem,o=r;t.target.checked?(i[e.id]=e.fileURL,o.push(e.id)):(o=Object(E.filter)(o,function(t){return t!==e.id}),delete i[e.id]),a.setState({checkItem:i,project_ids:o})},a.getPostsDataTable=function(){var e,t=a.props.posts;e=t.filter(function(e){return"publish"===e.status});var n={columns:V},i=Object(E.map)(e,function(e){return{title:e.title,studentId:e.studentId,studentName:e.studentName,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.b,{to:"/contributionDetail/".concat(e.id),style:{color:"blue"}},"View File"),download:r.a.createElement("a",{href:e.fileURL,style:{color:"blue"}},"Download")}});return n.rows=i,n},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.posts;return e.isLoading?r.a.createElement(O,{isLoading:!0}):Object(E.isEmpty)(t)?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement(K.a,{striped:!0,bordered:!0,small:!0,data:this.getPostsDataTable()}))}}]),t}(n.Component),Y=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){return{dispatchApproveProjects:function(t,a){return e(P(t,a))}}}),Object(w.firestoreConnect)(["projects","users","posts"]))(Q),$=a(85),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",wordFile:"",url:"",agreeTermAndPolicies:!1},a.handleSubmit=function(e){var t=a.props.dispatchCreateProject;e.preventDefault(),t(a.state)},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(I.a)({},n,r))},a.handleFileUpload=function(e){var t,n=e.target,r=n.id,i=n.value,o=n.files;a.setState((t={},Object(I.a)(t,r,i),Object(I.a)(t,"wordFile",o[0]),t))},a.onCheckItem=function(e){a.setState({agreeTermAndPolicies:e.target.checked})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.profile,i=t.isLoading,o=this.state.agreeTermAndPolicies;return i?r.a.createElement(O,{isLoading:!0}):n.isEmpty?r.a.createElement(O,{isLoading:!0}):a.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Contributions"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{type:"text",id:"description",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"file",id:"url",onChange:this.handleFileUpload})),r.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",direction:"row"}},r.a.createElement("label",{style:{marginTop:10}},r.a.createElement($.a,{onChange:function(t,a){return e.onCheckItem(t)}})),"I accept Greenwich University Contribution's"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Terms_of_service"},"Terms & Conditions")),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{disabled:!o,className:"btn pink lighten-1 z-depth-0"},"Submit")))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),H=Object(h.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,isLoading:e.project.isLoading}},function(e){return{dispatchCreateProject:function(t){return e(T(t))}}})(q),X=a(22),Z=a(84),ee=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],te=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(I.a)({},n,r))},a.handleSelectChange=function(e){a.setState({faculty:e})},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError,n=e.users,i=e.isLoading,o=this.state.faculty;return Object(E.isEmpty)(t.uid)?r.a.createElement(p.a,{to:"/"}):Object(E.isEmpty)(n)||i?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(Z.a,{styles:{option:function(e,t){return Object(X.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(X.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:o,onChange:this.handleSelectChange,options:ee}),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),a&&r.a.createElement("h7",{className:"red-text text-darken-3"},a)))}}]),t}(n.Component),ae=Object(S.d)(Object(h.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(w.firestoreConnect)(["users"]))(te),ne=a(439),re=a(440),ie=a.n(re),oe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={checkItem:{},project_ids:[]},n.onCheckItem=function(e,t){var a=n.state,r=a.project_ids,i=a.checkItem,o=r;t.target.checked?(i[e.id]=e.fileURL,o.push(e.id)):(o=Object(E.filter)(o,function(t){return t!==e.id}),delete i[e.id]),n.setState({checkItem:i,project_ids:o})},n.getStatusColor=function(e){return e===f.Pending?"orange":e===f.Approved?"green":e===f.Publish?"blue":void 0},n.getPostsDataTable=function(){var e=n.props,t=e.posts,a=e.profile,i=t;i=t.filter(function(e){return"pending"===e.status});var o=[],c={columns:G};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(i=t.filter(function(e){return"approved"===e.status}),c.columns=W),Object(E.get)(a,"role","")===b.Student&&(i=t.filter(function(e){return e.studentId===a.studentId}),c.columns=z),Object(E.get)(a,"role","")===b.Cordinator&&(i=t.filter(function(e){return"pending"===e.status&&e.faculty===Object(E.get)(a,"faculty","")})),o=Object(E.map)(i,function(e){var t={select:r.a.createElement("label",null,r.a.createElement($.a,{onChange:function(t,a){return n.onCheckItem(e,t)}})),title:e.title,studentId:e.studentId,studentName:e.studentName,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.b,{to:"/contributionDetail/".concat(e.id),style:{color:"blue"}},"View File")};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(t.faculty=e.faculty),t}),Object(E.get)(a,"role","")===b.Cordinator&&(o=Object(E.map)(i,function(e){var t={select:r.a.createElement("label",null,r.a.createElement($.a,{onChange:function(t,a){return n.onCheckItem(e,t)}})),title:e.title,studentId:e.studentId,studentName:e.studentName,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.b,{to:"/viewDetail/".concat(e.id),style:{color:"blue"}},"View Details")};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(t.faculty=e.faculty),t})),Object(E.get)(a,"role","")===b.Student&&(o=Object(E.map)(i,function(e){var t={status:r.a.createElement("h7",{style:{color:n.getStatusColor(e.status)}},Object(E.upperFirst)(e.status)),title:e.title,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.b,{to:"/viewDetail/".concat(e.id),style:{color:"blue"}},"View Details")};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(t.faculty=e.faculty),t})),c.rows=o,c},n.onDownload=function(){var e,t=n.state.checkItem,r=a(806)(),i=t[Object.keys(t)[0]];ie.a.getBinaryContent(i,function(e,t){if(e)throw e;this.setState({file:i})}),e=r.file("DOCS/document.docx","asdiasudg",{binary:!1}),r.generateAsync({type:"blob",compression:"DEFLATE"}).then(function(e){Object(ne.saveAs)(e,"example.zip")}),console.log(e)},n.onAccept=function(){var e=n.props,t=e.dispatchApproveProjects,a=e.profile;return Object(E.get)(a,"role","")===b.Marketing_Manager?t(n.state.project_ids,"publish"):Object(E.get)(a,"role","")===b.Cordinator?t(n.state.project_ids,"approved"):void 0},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts,n=e.isLoading,i=e.profile,o=this.state.checkItem;return n?r.a.createElement(O,{isLoading:!0}):Object(E.isEmpty)(a)||Object(E.isEmpty)(i)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement("div",null,i.role!==b.Student&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn pink lighten-1 right",disabled:Object(E.isEmpty)(o),onClick:this.onAccept},"Accept"),r.a.createElement("button",{className:"btn pink lighten-1 right",disabled:Object(E.isEmpty)(o),onClick:this.onDownload},"Download")),r.a.createElement(K.a,{striped:!0,bordered:!0,small:!0,data:this.getPostsDataTable()}))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),ce=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){return{dispatchApproveProjects:function(t,a){return e(P(t,a))}}}),Object(w.firestoreConnect)(["projects","users","posts"]))(oe),le=a(441),se=a.n(le),ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPostById=function(){var e=a.props,t=e.posts,n=e.match;return Object(E.find)(t,function(e){return e.id===n.params.id})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.posts;return Object(E.isEmpty)(e)?r.a.createElement(O,{isLoading:!0}):r.a.createElement(se.a,{fileType:"docx",filePath:a(844),errorComponent:r.a.createElement(O,{isLoading:!0}),onError:function(){return console.log("errooorrrrrr")}})}}]),t}(n.Component),de=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts}}),Object(w.firestoreConnect)(["projects","users","posts"]))(ue),me=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],pe=[{value:b.Cordinator,label:b.Cordinator},{value:b.Marketing_Manager,label:b.Marketing_Manager}],he=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Marketing_Manager,label:b.Marketing_Manager}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(I.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(I.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError,i=t.users,o=t.isLoading,c=this.state,l=c.faculty,s=c.role;return Object(E.isEmpty)(a.uid)?r.a.createElement(p.a,{to:"/"}):Object(E.isEmpty)(i)||o?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the role:"),r.a.createElement(Z.a,{styles:{option:function(e,t){return Object(X.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(X.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:s,onChange:function(t){return e.handleSelectChange("role",t)},options:pe})),s.value===b.Cordinator&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(Z.a,{styles:{option:function(e,t){return Object(X.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(X.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:l,onChange:function(t){return e.handleSelectChange("faculty",t)},options:me})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),n&&r.a.createElement("h7",{className:"red-text text-darken-3"},n)))}}]),t}(n.Component),be=Object(S.d)(Object(h.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(w.firestoreConnect)(["users"]))(he),fe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checkItem:{},project_ids:[]},a.onCheckItem=function(e,t){var n=a.state,r=n.project_ids,i=n.checkItem,o=r;t.target.checked?(i[e.id]=e.fileURL,o.push(e.id)):(o=Object(E.filter)(o,function(t){return t!==e.id}),delete i[e.id]),a.setState({checkItem:i,project_ids:o})},a.getUserData=function(){var e=a.props,t=e.users,n=e.profile,r={columns:J},i=t;Object(E.get)(n,"role","")===b.Marketing_Manager&&(i=Object(E.filter)(i,function(e){return e.role!==b.Admin})),Object(E.get)(n,"role","")===b.Cordinator&&(i=Object(E.filter)(i,function(e){return e.role!==b.Admin&&e.role!==b.Marketing_Manager&&e.role!==b.Cordinator&&e.faculty===Object(E.get)(n,"faculty","")}));var o=Object(E.map)(i,function(e){return{email:e.email,firstName:e.firstName,lastName:e.lastName,role:e.role,faculty:e.faculty}});return r.rows=o,r},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.users;return Object(E.isEmpty)(a)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement(K.a,{striped:!0,bordered:!0,small:!0,data:this.getUserData()})):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),ge=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,users:e.firestore.ordered.users}},function(e){return{dispatchApproveProjects:function(t){return e(P(t))}}}),Object(w.firestoreConnect)(["users"]))(fe),Ee=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],je=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Cordinator,label:b.Cordinator}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(I.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(I.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError,i=t.users,o=t.isLoading,c=this.state,l=c.faculty,s=c.role;return Object(E.isEmpty)(a.uid)?r.a.createElement(p.a,{to:"/"}):Object(E.isEmpty)(i)||o?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),s.value===b.Cordinator&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(Z.a,{styles:{option:function(e,t){return Object(X.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(X.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:l,onChange:function(t){return e.handleSelectChange("faculty",t)},options:Ee})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),n&&r.a.createElement("h7",{className:"red-text text-darken-3"},n)))}}]),t}(n.Component),ve=Object(S.d)(Object(h.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(w.firestoreConnect)(["users"]))(je),Oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Student,label:b.Student}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(I.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(I.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.users,a=e.profile;this.isLoaded||Object(E.isEmpty)(t)||Object(E.isEmpty)(a.faculty)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-t.length.toString().length)).concat(t.length),faculty:{value:a.faculty,label:a.faculty}}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError,n=e.users,i=e.isLoading;return Object(E.isEmpty)(t.uid)?r.a.createElement(p.a,{to:"/"}):Object(E.isEmpty)(n)||i?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Students"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"CREATE")),a&&r.a.createElement("h7",{className:"red-text text-darken-3"},a)))}}]),t}(n.Component),ye=Object(S.d)(Object(h.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,profile:e.firebase.profile,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(w.firestoreConnect)(["users"]))(Oe),Ce=a(105),Ne=a(106),ke=a.n(Ne),Se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checkItem:{},project_ids:[]},a.getContributionsByFaculty=function(e){var t=a.props.posts,n=Object(E.filter)(t,function(t){return t.faculty===e});return Object(E.reduce)([0,1,2,3,4,5,6,7,8,9,10,11],function(e,t){var a=e,r=Object(E.filter)(n,function(e){return new Date(e.createdDateTime).getMonth()===t});return Object(E.isEmpty)(r)?[].concat(Object(F.a)(a),[0]):[].concat(Object(F.a)(a),[r.length])},[])},a.getChartData=function(){return{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Marketing",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:a.getContributionsByFaculty("Marketing")},{label:"IT",backgroundColor:"rgba(152,251,152, 0.2)",borderColor:"rgba(0,100,0)",borderWidth:1,hoverBackgroundColor:"rgba(152,251,152, 0.6)",hoverBorderColor:"rgba(0,100,0)",data:a.getContributionsByFaculty("IT")},{label:"Design",backgroundColor:"rgba(135,206,250, 0.2)",borderColor:"rgba(0,191,255)",borderWidth:1,hoverBackgroundColor:"rgba(135,206,250, 0.4)",hoverBorderColor:"rgba(0,191,255)",data:a.getContributionsByFaculty("Design")}]}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts,n=e.isLoading,i=e.profile,o=e.windowWidth;return console.log(o,"windowWidth"),n?r.a.createElement(O,{isLoading:!0}):Object(E.isEmpty)(a)||Object(E.isEmpty)(i)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement("h5",{style:{fontWeight:"bold",marginTop:10}},"Number of Reports By Month of Each Faculty"),r.a.createElement(Ce.a,{data:this.getChartData(),height:o>1e3?500:300,options:{maintainAspectRatio:!1}})):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),we=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){}),Object(w.firestoreConnect)(["projects","users","posts"]))(ke()(Se)),Le=a(880),Ie=a(881),Fe=a(442),De=a(429),Te=a(882),Pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={textValue:""},a.getPostById=function(){var e=a.props,t=e.posts,n=e.match;return Object(E.find)(t,function(e){return e.id===n.params.id})},a.getCommentData=function(){var e=a.getPostById(),t=[].concat(Object(F.a)(Object(E.get)(e,"comment",[])),Object(F.a)(Object(E.get)(e,"reply",[])));return console.log(t,"replyDataComment"),t.sort(function(e,t){var a=new Date(e.dateTime);return new Date(t.dateTime)-a}),t},a.getStatusColor=function(e){return e===f.Reject?"danger":e===f.Pending?"warning":e===f.Approved?"success":e===f.Publish?"primary":void 0},a.approveProject=function(e){var t=a.props;(0,t.dispatchApproveProjects)([t.match.params.id],e)},a.onChangeText=function(e){a.setState({textValue:e.target.value})},a.onCommentOrReply=function(){var e=a.props,t=e.dispatchCommentOrReplyProject,n=e.profile,r=e.match,i=a.state.textValue,o="Student"===n.role?"reply":"comment",c={data:i,teacherId:n.userId,teacherName:n.firstName+n.lastName,dateTime:(new Date).toString(),status:o};t(r.params.id,c,o),a.setState({textValue:""})},a.onDownload=function(){return a.getPostById().fileURL},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.posts,i=t.profile,o=t.isLoading,c=t.match,l=this.state.textValue,s=this.getPostById();return Object(E.isEmpty)(n)||Object(E.isEmpty)(i)||o?r.a.createElement(O,{isLoading:!0}):a.uid?r.a.createElement(Le.a,null,r.a.createElement(Ie.a,{style:{marginTop:20}},r.a.createElement(Fe.a,{sm:8},r.a.createElement("h2",null," ",r.a.createElement("h4",{style:{fontWeight:"bold"}},"Title:"),s.title),r.a.createElement("p",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Description:"),s.description),r.a.createElement("p",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Status:"),r.a.createElement(De.a,{variant:this.getStatusColor(s.status)},s.status)),r.a.createElement("p",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Create Date Time:"),s.createdDateTime),r.a.createElement("p",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Updated Date Time: "),s.updatedDateTime||"Not Update Yet"),r.a.createElement("h3",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Student Name: ")," ",s.studentName)),"Student"===i.role?r.a.createElement(Fe.a,{sm:4,className:"right"},("pending"===this.getPostById().status||"reject"===this.getPostById().status)&&r.a.createElement(De.a,{variant:"primary",href:"/editProject/".concat(c.params.id)},"Edit"),r.a.createElement(De.a,{variant:"pink",href:"/contributionDetail/".concat(c.params.id)},"View File"),r.a.createElement(De.a,{variant:"pink",href:this.getPostById().fileURL},"Download")):r.a.createElement(Fe.a,{sm:4,className:"right"},r.a.createElement(De.a,{variant:"primary",onClick:function(){return e.approveProject("approved")}},"Approve"),r.a.createElement(De.a,{variant:"danger",onClick:function(){return e.approveProject("reject")}},"Reject"),r.a.createElement(De.a,{variant:"pink",href:"/contributionDetail/".concat(c.params.id)},"View File"),r.a.createElement(De.a,{variant:"pink",href:this.getPostById().fileURL},"Download"))),r.a.createElement(Ie.a,null,r.a.createElement(Fe.a,null,r.a.createElement(Te.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(Te.a.Label,null,"Feedback"),r.a.createElement(Te.a.Control,{value:l,onChange:this.onChangeText,style:{resize:"none"},as:"textarea",rows:"4"})),r.a.createElement(De.a,{onClick:this.onCommentOrReply,variant:"primary",className:"right"},"Student"===i.role?"Reply":"Comment"))),!Object(E.isEmpty)(this.getCommentData())&&r.a.createElement(Ie.a,null,r.a.createElement(Fe.a,null,this.getCommentData().map(function(e){return r.a.createElement("div",{style:{borderRadius:10,marginLeft:"reply"===e.status?300:0,marginRight:"comment"===e.status?300:0,marginBottom:10,padding:10,paddingBottom:1,paddingTop:5},className:"reply"===e.status?"light-blue":"light-green"},r.a.createElement("h6",{className:"left"},r.a.createElement("b",null,"Name: "),e.teacherName),r.a.createElement("h6",{className:"right"},r.a.createElement("b",null,"DateTime: "),e.dateTime),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,e.data))})))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),Ae=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,profile:e.firebase.profile,isLoading:e.project.isLoading}},function(e){return{dispatchCommentOrReplyProject:function(t,a,n){return e(function(e,t,a){return function(n,r,i){i.getFirebase;var o=(0,i.getFirestore)(),c=r(),l=c.firebase.profile,s=Object(E.find)(c.firestore.ordered.posts,function(t){return t.id===e}),u=Object(E.get)(s,a,[]);n({type:"COMMENT_PROJECT"}),o.collection("posts").doc(e).set(Object(I.a)({updatedDateTime:(new Date).toString()},a,[].concat(Object(F.a)(u),[t])),{merge:!0}).then(function(){"comment"===a&&o.collection("notifications").add({isRead:!1,postId:e,senderId:l.userId,senderName:l.firstName+" "+l.lastName,text:"comment on your contribution",recieverId:s.userId}),n({type:"COMMENT_PROJECT_SUCCESS"})}).catch(function(e){console.log(e,"errrr")})}}(t,a,n))},dispatchApproveProjects:function(t,a){return e(P(t,a))}}}),Object(w.firestoreConnect)(["projects","users","posts"]))(Pe),Ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",wordFile:"",url:"",agreeTermAndPolicies:!1,isFirstLoading:!1},a.handleSubmit=function(e){var t=a.props.dispatchCreateProject;e.preventDefault(),t(a.state)},a.getPostById=function(){var e=a.props,t=e.posts,n=e.match;return console.log(t,"posts"),Object(E.find)(t,function(e){return e.id===n.params.id})},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(I.a)({},n,r))},a.handleFileUpload=function(e){var t,n=e.target,r=n.id,i=n.value,o=n.files;a.setState((t={},Object(I.a)(t,r,i),Object(I.a)(t,"wordFile",o[0]),t))},a.onCheckItem=function(e){a.setState({agreeTermAndPolicies:e.target.checked})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state.isFirstLoading,a=this.getPostById();t||Object(E.isEmpty)(a)||this.setState({title:a.title,description:a.description,isFirstLoading:!0},function(){console.log(e.state)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.profile,i=t.isLoading,o=this.state,c=o.agreeTermAndPolicies,l=o.title,s=o.description,u=o.url;return i?r.a.createElement(O,{isLoading:!0}):n.isEmpty?r.a.createElement(O,{isLoading:!0}):a.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Contributions"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{value:l,type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{value:s,type:"text",id:"description",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"file",id:"url",onChange:this.handleFileUpload})),r.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",direction:"row"}},r.a.createElement("label",{style:{marginTop:10}},r.a.createElement($.a,{onChange:function(t,a){return e.onCheckItem(t)}})),"I accept Greenwich University Contribution's"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Terms_of_service"},"Terms & Conditions")),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{disabled:!c||Object(E.isEmpty)(u),className:"btn pink lighten-1 z-depth-0"},"Submit")))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),Re=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,isLoading:e.project.isLoading,posts:e.firestore.ordered.posts}},function(e){return{dispatchCreateProject:function(t){return e(T(t))}}}),Object(w.firestoreConnect)(["posts"]))(Ue),xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPostsByFaculty=function(e){var t=a.props.posts,n=Object(E.filter)(t,function(t){return t.faculty===e});return console.log(n,"post"),n},a.getChartData=function(){var e=a.getPostsByFaculty("IT"),t=a.getPostsByFaculty("Marketing"),n=a.getPostsByFaculty("Design"),r=e.length+t.length+n.length,i=e.length/r*100,o=t.length/r*100,c=n.length/r*100;return{labels:["IT","Marketing","Design"],datasets:[{data:[Object(E.round)(i,2),Object(E.round)(o,2),Object(E.round)(c,2)],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts,n=e.isLoading,i=e.profile,o=e.windowWidth;return console.log(o,"windowWidth"),n?r.a.createElement(O,{isLoading:!0}):Object(E.isEmpty)(a)||Object(E.isEmpty)(i)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement("h5",{style:{fontWeight:"bold",marginTop:10}},"Percentage of contributions by each Faculty"),r.a.createElement(Ce.b,{data:this.getChartData()})):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),_e=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){}),Object(w.firestoreConnect)(["projects","users","posts"]))(ke()(xe)),Me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPostsByFaculty=function(e){var t=a.props.users;return Object(E.filter)(t,function(t){return"Student"===t.role&&t.faculty===e})},a.getChartData=function(){var e=a.getPostsByFaculty("IT"),t=a.getPostsByFaculty("Marketing"),n=a.getPostsByFaculty("Design");return{labels:["IT","Marketing","Design"],datasets:[{data:[e.length,t.length,n.length],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts,n=e.isLoading,i=e.profile;return n?r.a.createElement(O,{isLoading:!0}):Object(E.isEmpty)(a)||Object(E.isEmpty)(i)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement("h5",{style:{fontWeight:"bold",marginTop:10}},"Number of contributors within each Faculty"),r.a.createElement(Ce.b,{data:this.getChartData()})):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),Be=Object(S.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered.users,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){}),Object(w.firestoreConnect)(["projects","users","posts"]))(ke()(Me)),Ge=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(_,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/signin",component:B}),r.a.createElement(p.b,{path:"/home",component:Y}),r.a.createElement(p.b,{path:"/createProject",component:H}),r.a.createElement(p.b,{path:"/editProject/:id",component:Re}),r.a.createElement(p.b,{path:"/contributionDetail/:id",component:de}),r.a.createElement(p.b,{path:"/viewDetail/:id",component:Ae}),r.a.createElement(p.b,{path:"/contributions",component:ce}),r.a.createElement(p.b,{path:"/signUp",component:ae}),r.a.createElement(p.b,{path:"/createStudents",component:ye}),r.a.createElement(p.b,{path:"/createAccount",component:be}),r.a.createElement(p.b,{path:"/createCordinators",component:ve}),r.a.createElement(p.b,{path:"/students",component:ge}),r.a.createElement(p.b,{path:"/reports",component:we}),r.a.createElement(p.b,{path:"/reports2",component:_e}),r.a.createElement(p.b,{path:"/reports3",component:Be})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ve={authError:null,isLoading:!1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(X.a)({},e,{authError:null,isLoading:!0});case"LOGIN_ERROR":return console.log(t.err.code,"asdiahsd"),"auth/user-not-found"===t.err.code?Object(X.a)({},e,{authError:"User Name not found. Please try again",isLoading:!1}):"auth/wrong-password"===t.err.code?Object(X.a)({},e,{authError:"Wrong Password. Please try again",isLoading:!1}):Object(X.a)({},e,{authError:"Login failed",isLoading:!1});case"LOGIN_SUCCESS":return Object(X.a)({},e,{authError:null,isLoading:!1});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP":return Object(X.a)({},e,{isLoading:!0,authError:null});case"SIGNUP_SUCCESS":return console.log("signup success"),Object(X.a)({},e,{authError:null,isLoading:!1});case"SIGNUP_ERROR":return console.log("signup error"),Object(X.a)({},e,{authError:t.err.message,isLoading:!1});default:return e}},Je={isLoading:!1},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;switch((arguments.length>1?arguments[1]:void 0).type){case"CREATE_PROJECT":return Object(X.a)({},e,{isLoading:!0});case"CREATE_PROJECT_SUCCESS":case"APPROVE_PROJECT_SUCCESS":return Object(X.a)({},e,{isLoading:!1});case"APPROVE_PROJECT":case"COMMENT_PROJECT":return Object(X.a)({},e,{isLoading:!0});case"COMMENT_PROJECT_SUCCESS":return Object(X.a)({},e,{isLoading:!1});default:return e}},Ke=a(142),Qe=Object(S.c)({auth:We,project:ze,firestore:Ke.firestoreReducer,firebase:w.firebaseReducer}),Ye=a(443),$e=a(199),qe=a.n($e);a(876),a(877);qe.a.initializeApp({apiKey:"AIzaSyB6srSMJ45h1Ld-p4b44sGPKba33AmfVQU",authDomain:"testschool-30bdb.firebaseapp.com",databaseURL:"https://testschool-30bdb.firebaseio.com",projectId:"testschool-30bdb",storageBucket:"testschool-30bdb.appspot.com",messagingSenderId:"322977217549"});qe.a.storage;var He=qe.a,Xe=Object(S.e)(Qe,Object(S.d)(Object(S.a)(Ye.a.withExtraArgument({getFirebase:w.getFirebase,getFirestore:Ke.getFirestore})),Object(Ke.reduxFirestore)(He),Object(w.reactReduxFirebase)(He,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0})));Xe.firebaseAuthIsReady.then(function(){o.a.render(r.a.createElement(h.a,{store:Xe},r.a.createElement(Ge,null)),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[445,1,2]]]);
//# sourceMappingURL=main.ad1bdcd8.chunk.js.map