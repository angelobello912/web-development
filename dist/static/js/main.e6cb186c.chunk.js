(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{442:function(e,t,a){e.exports=a(874)},447:function(e,t,a){},808:function(e,t){},810:function(e,t){},874:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),o=a.n(i),l=(a(447),a(448),a(449),a(450),a(12)),c=a(13),s=a(15),u=a(14),d=a(16),m=a(9),p=a(83),h=a(17),b={Admin:"Admin",Student:"Student",Marketing_Manager:"Marketing Manager",Cordinator:"Cordinator"},f={Pending:"pending",Approved:"approved",Publish:"publish",Reject:"reject"},g=function(e){return function(t,a,n){var r=n.getFirebase,i=n.getFirestore,o=r(),l=i();t({type:"SIGNUP"}),console.log(o.apps.length," 12312312");o.apps.length<2&&o.initializeApp({apiKey:"AIzaSyB6srSMJ45h1Ld-p4b44sGPKba33AmfVQU",authDomain:"testschool-30bdb.firebaseapp.com",databaseURL:"https://testschool-30bdb.firebaseio.com",projectId:"testschool-30bdb",storageBucket:"testschool-30bdb.appspot.com",messagingSenderId:"322977217549"},"Secondary"),o.app("Secondary").auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){return l.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,role:e.role.label||"Student",userId:t.user.uid,email:e.email,studentId:e.studentId,faculty:e.role.label===b.Marketing_Manager?"All":e.faculty.label}),o.app("Secondary").auth().signOut()}).then(function(){t({type:"SIGNUP_SUCCESS"})}).catch(function(e){t({type:"SIGNUP_ERROR",err:e})})}},E=a(4),v=a(416),j=a.n(v),O=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.isLoading?r.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%"}},r.a.createElement(j.a,{type:"Circles",color:"gray",height:"50",width:"50"})):null}}]),t}(n.Component),y=a(879),C=a(881),N=a(880),S=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dispatchSignOut,a=e.profile,n=a.firstName,i=void 0===n?"":n,o=a.lastName,l=void 0===o?"":o,c=e.profile;return Object(E.isEmpty)(c)?r.a.createElement(O,{isLoading:!0}):c.role===b.Student?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(C.a,{className:"mr-auto"},r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/createProject"},"New Contribution")),r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/contributions"},"Contributions"))),r.a.createElement(C.a,null,r.a.createElement(C.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(C.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+l.charAt(0)))))):c.role===b.Cordinator?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(C.a,{className:"mr-auto"},r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/createStudents"},"Create Students")),r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/students"},"Manage Students")),r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/contributions"},"Contributions"))),r.a.createElement(C.a,null,r.a.createElement(C.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(C.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+l.charAt(0)))))):c.role===b.Marketing_Manager?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(C.a,{className:"mr-auto"},r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/createCordinators"},"Create Coordinators")),r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/students"},"Manage Account")),r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/contributions"},"Contributions"))),r.a.createElement(C.a,null,r.a.createElement(C.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(C.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+l.charAt(0)))))):c.role===b.Admin?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(C.a,{className:"mr-auto"},r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/createAccount"},"Create Account")),r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/students"},"Manage Account")),r.a.createElement(N.a,{title:"Reports",id:"collasible-nav-dropdown"},r.a.createElement(N.a.Item,null,r.a.createElement(m.b,{to:"/reports"},"Reports")))),r.a.createElement(C.a,null,r.a.createElement(C.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(C.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+l.charAt(0)))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"responsive-navbar-nav",style:{backgroundColor:"#202020",marginTop:-15,zIndex:10,paddingLeft:15}},r.a.createElement(C.a,{className:"mr-auto"},r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/createProject"},"New Contribution")),r.a.createElement(C.a.Link,null,r.a.createElement(m.b,{to:"/contributions"},"Contributions"))),r.a.createElement(C.a,null,r.a.createElement(C.a.Link,null,r.a.createElement("a",{href:"/",onClick:t},"Log Out")),r.a.createElement(C.a.Link,{href:"/"},r.a.createElement(m.b,{className:"btn pink lighten-1"},i.charAt(0)+l.charAt(0))))))}}]),t}(n.Component),k=Object(h.b)(function(e){return{profile:e.firebase.profile,auth:e.firebase.auth}},function(e){return{dispatchSignOut:function(){return e(function(e,t,a){(0,a.getFirebase)().auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}}})(S),w=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(m.b,{to:"/signin"},"Log In")))}}]),t}(n.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.auth;return r.a.createElement(y.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement("div",{className:"container"},r.a.createElement(y.a.Brand,{style:{marginTop:-15}},r.a.createElement(m.b,{to:"/home"},"Greenwich University")),e.uid?r.a.createElement(k,null):r.a.createElement(w,null)))}}]),t}(n.Component),I=Object(h.b)(function(e){return{auth:e.firebase.auth}})(L),T=a(23),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(T.a)({},n,r))},a.handleSubmit=function(e){var t=a.props.dispatchSignIn;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return e.authIsLoading?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement(p.a,{to:"/home"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1"},"Login")),r.a.createElement("h5",{style:{color:"red"}},a)))}}]),t}(n.Component),P=Object(h.b)(function(e){return{authError:e.auth.authError,authIsLoading:e.auth.isLoading,auth:e.firebase.auth}},function(e){return{dispatchSignIn:function(t){return e((a=t,function(e,t,n){var r=(0,n.getFirebase)();e({type:"LOGIN"}),r.auth().signInWithEmailAndPassword(a.email,a.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(t){e({type:"LOGIN_ERROR",err:t})})}));var a}}})(D),F=a(21),A=a(19),U=[{label:"Select",field:"select",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30}],R=[{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30},{label:"Download",field:"download",sort:"asc",width:30}],x=[{label:"Select",field:"select",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Student ID",field:"studentId",sort:"asc",width:270},{label:"Student Name",field:"studentName",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30},{label:"Faculty",field:"faculty",sort:"asc",width:100}],_=[{label:"Email",field:"email",sort:"asc",width:150},{label:"First Name",field:"firstName",sort:"asc",width:200},{label:"Last Name",field:"lastName",sort:"asc",width:270},{label:"Role",field:"role",sort:"asc",width:200},{label:"Faculty",field:"faculty",sort:"asc",width:100}],M=[{label:"Status",field:"status",sort:"asc",width:50},{label:"Title",field:"title",sort:"asc",width:200},{label:"Create Dated Time",field:"createdDateTime",sort:"asc",width:100},{label:"File Url",field:"fileURL",sort:"asc",width:30}],B=a(105),G=a(67),V=a(275),J=function(e){return function(t,a,n){var r=n.getFirestore;n.getFirebase;t({type:"CREATE_PROJECT",project:e});var i=r(),o=a().firebase.profile;Object(V.storage)().ref("images/".concat(e.wordFile.name)).put(e.wordFile).on("state_changed",function(e){},function(e){console.log(e)},function(){Object(V.storage)().ref("images").child(e.wordFile.name).getDownloadURL().then(function(a){i.collection("posts").add({title:e.title,fileURL:a,description:e.description,currentUpdatedNumber:0,createdDateTime:(new Date).toString(),updatedDateTime:"",faculty:o.faculty,studentId:o.studentId,userId:o.userId,studentName:"".concat(o.lastName," ").concat(o.firstName),status:"pending"}).then(function(){t({type:"CREATE_PROJECT_SUCCESS",project:e})}).catch(function(e){alert(e)})})})}},z=function(e,t){return function(a,n,r){r.getFirebase;var i=(0,r.getFirestore)();console.log(e,"project_ids"),e.map(function(e){return a({type:"APPROVE_PROJECT"}),i.collection("posts").doc(e).set({status:t},{merge:!0}).then(function(){a({type:"APPROVE_PROJECT_SUCCESS"})}).catch(function(e){console.log(e,"errrr")})})}},W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={checkItem:{},project_ids:[]},a.onCheckItem=function(e,t){var n=a.state,r=n.project_ids,i=n.checkItem,o=r;t.target.checked?(i[e.id]=e.fileURL,o.push(e.id)):(o=Object(E.filter)(o,function(t){return t!==e.id}),delete i[e.id]),a.setState({checkItem:i,project_ids:o})},a.getPostsDataTable=function(){var e,t=a.props.posts;e=t.filter(function(e){return"publish"===e.status});var n={columns:R},i=Object(E.map)(e,function(e){return{title:e.title,studentId:e.studentId,studentName:e.studentName,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.b,{to:"/contributionDetail/".concat(e.id),style:{color:"blue"}},"View File"),download:r.a.createElement("a",{href:e.fileURL,style:{color:"blue"}},"Download")}});return n.rows=i,n},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.posts;return e.isLoading?r.a.createElement(O,{isLoading:!0}):Object(E.isEmpty)(t)?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement(B.a,{striped:!0,bordered:!0,small:!0,data:this.getPostsDataTable()}))}}]),t}(n.Component),K=Object(A.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){return{dispatchApproveProjects:function(t,a){return e(z(t,a))}}}),Object(F.firestoreConnect)(["projects","users","posts"]))(W),Q=a(85),Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",wordFile:"",url:"",agreeTermAndPolicies:!1},a.handleSubmit=function(e){var t=a.props.dispatchCreateProject;e.preventDefault(),t(a.state)},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(T.a)({},n,r))},a.handleFileUpload=function(e){var t,n=e.target,r=n.id,i=n.value,o=n.files;a.setState((t={},Object(T.a)(t,r,i),Object(T.a)(t,"wordFile",o[0]),t))},a.onCheckItem=function(e){a.setState({agreeTermAndPolicies:e.target.checked})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.profile,i=t.isLoading,o=this.state.agreeTermAndPolicies;return i?r.a.createElement(O,{isLoading:!0}):n.isEmpty?r.a.createElement(O,{isLoading:!0}):a.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Contributions"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{type:"text",id:"description",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"file",id:"url",onChange:this.handleFileUpload})),r.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",direction:"row"}},r.a.createElement("label",{style:{marginTop:10}},r.a.createElement(Q.a,{onChange:function(t,a){return e.onCheckItem(t)}})),"I accept Greenwich University Contribution's"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Terms_of_service"},"Terms & Conditions")),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{disabled:!o,className:"btn pink lighten-1 z-depth-0"},"Submit")))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),$=Object(h.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,isLoading:e.project.isLoading}},function(e){return{dispatchCreateProject:function(t){return e(J(t))}}})(Y),q=a(22),H=a(84),X=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(T.a)({},n,r))},a.handleSelectChange=function(e){a.setState({faculty:e})},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError,n=e.users,i=e.isLoading,o=this.state.faculty;return Object(E.isEmpty)(t.uid)?r.a.createElement(p.a,{to:"/"}):Object(E.isEmpty)(n)||i?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(H.a,{styles:{option:function(e,t){return Object(q.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(q.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:o,onChange:this.handleSelectChange,options:X}),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),a&&r.a.createElement("h7",{className:"red-text text-darken-3"},a)))}}]),t}(n.Component),ee=Object(A.d)(Object(h.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(F.firestoreConnect)(["users"]))(Z),te=a(434),ae=a(435),ne=a.n(ae),re=function(e){function t(){var e,n;Object(l.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={checkItem:{},project_ids:[]},n.onCheckItem=function(e,t){var a=n.state,r=a.project_ids,i=a.checkItem,o=r;t.target.checked?(i[e.id]=e.fileURL,o.push(e.id)):(o=Object(E.filter)(o,function(t){return t!==e.id}),delete i[e.id]),n.setState({checkItem:i,project_ids:o})},n.getStatusColor=function(e){return e===f.Pending?"orange":e===f.Approved?"green":e===f.Publish?"blue":void 0},n.getPostsDataTable=function(){var e=n.props,t=e.posts,a=e.profile,i=t;i=t.filter(function(e){return"pending"===e.status});var o=[],l={columns:U};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(i=t.filter(function(e){return"approved"===e.status}),l.columns=x),Object(E.get)(a,"role","")===b.Student&&(i=t.filter(function(e){return e.studentId===a.studentId}),l.columns=M),Object(E.get)(a,"role","")===b.Cordinator&&(i=t.filter(function(e){return"pending"===e.status&&e.faculty===Object(E.get)(a,"faculty","")})),o=Object(E.map)(i,function(e){var t={select:r.a.createElement("label",null,r.a.createElement(Q.a,{onChange:function(t,a){return n.onCheckItem(e,t)}})),title:e.title,studentId:e.studentId,studentName:e.studentName,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.b,{to:"/contributionDetail/".concat(e.id),style:{color:"blue"}},"View File")};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(t.faculty=e.faculty),t}),Object(E.get)(a,"role","")===b.Cordinator&&(o=Object(E.map)(i,function(e){var t={select:r.a.createElement("label",null,r.a.createElement(Q.a,{onChange:function(t,a){return n.onCheckItem(e,t)}})),title:e.title,studentId:e.studentId,studentName:e.studentName,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.b,{to:"/viewDetail/".concat(e.id),style:{color:"blue"}},"View Details")};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(t.faculty=e.faculty),t})),Object(E.get)(a,"role","")===b.Student&&(o=Object(E.map)(i,function(e){var t={status:r.a.createElement("h7",{style:{color:n.getStatusColor(e.status)}},Object(E.upperFirst)(e.status)),title:e.title,createdDateTime:e.createdDateTime,fileUrl:r.a.createElement(m.b,{to:"/viewDetail/".concat(e.id),style:{color:"blue"}},"View Details")};return Object(E.get)(a,"role","")===b.Marketing_Manager&&(t.faculty=e.faculty),t})),l.rows=o,l},n.onDownload=function(){var e,t=n.state.checkItem,r=a(803)(),i=t[Object.keys(t)[0]];ne.a.getBinaryContent(i,function(e,t){if(e)throw e;this.setState({file:i})}),e=r.file("DOCS/document.docx","asdiasudg",{binary:!1}),r.generateAsync({type:"blob",compression:"DEFLATE"}).then(function(e){Object(te.saveAs)(e,"example.zip")}),console.log(e)},n.onAccept=function(){var e=n.props,t=e.dispatchApproveProjects,a=e.profile;return Object(E.get)(a,"role","")===b.Marketing_Manager?t(n.state.project_ids,"publish"):Object(E.get)(a,"role","")===b.Cordinator?t(n.state.project_ids,"approved"):void 0},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts,n=e.isLoading,i=e.profile,o=this.state.checkItem;return n?r.a.createElement(O,{isLoading:!0}):Object(E.isEmpty)(a)||Object(E.isEmpty)(i)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement("div",null,i.role!==b.Student&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn pink lighten-1 right",disabled:Object(E.isEmpty)(o),onClick:this.onAccept},"Accept"),r.a.createElement("button",{className:"btn pink lighten-1 right",disabled:Object(E.isEmpty)(o),onClick:this.onDownload},"Download")),r.a.createElement(B.a,{striped:!0,bordered:!0,small:!0,data:this.getPostsDataTable()}))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),ie=Object(A.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){return{dispatchApproveProjects:function(t,a){return e(z(t,a))}}}),Object(F.firestoreConnect)(["projects","users","posts"]))(re),oe=a(436),le=a.n(oe),ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getPostById=function(){var e=a.props,t=e.posts,n=e.match;return Object(E.find)(t,function(e){return e.id===n.params.id})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts;return Object(E.isEmpty)(a)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement(le.a,{fileType:"docx",filePath:this.getPostById().fileURL,errorComponent:r.a.createElement(O,{isLoading:!0}),onError:function(){return console.log("errooorrrrrr")}}):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),se=Object(A.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts}}),Object(F.firestoreConnect)(["projects","users","posts"]))(ce),ue=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],de=[{value:b.Cordinator,label:b.Cordinator},{value:b.Marketing_Manager,label:b.Marketing_Manager}],me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Marketing_Manager,label:b.Marketing_Manager}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(T.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(T.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError,i=t.users,o=t.isLoading,l=this.state,c=l.faculty,s=l.role;return Object(E.isEmpty)(a.uid)?r.a.createElement(p.a,{to:"/"}):Object(E.isEmpty)(i)||o?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the role:"),r.a.createElement(H.a,{styles:{option:function(e,t){return Object(q.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(q.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:s,onChange:function(t){return e.handleSelectChange("role",t)},options:de})),s.value===b.Cordinator&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(H.a,{styles:{option:function(e,t){return Object(q.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(q.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:c,onChange:function(t){return e.handleSelectChange("faculty",t)},options:ue})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),n&&r.a.createElement("h7",{className:"red-text text-darken-3"},n)))}}]),t}(n.Component),pe=Object(A.d)(Object(h.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(F.firestoreConnect)(["users"]))(me),he=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checkItem:{},project_ids:[]},a.onCheckItem=function(e,t){var n=a.state,r=n.project_ids,i=n.checkItem,o=r;t.target.checked?(i[e.id]=e.fileURL,o.push(e.id)):(o=Object(E.filter)(o,function(t){return t!==e.id}),delete i[e.id]),a.setState({checkItem:i,project_ids:o})},a.getUserData=function(){var e=a.props,t=e.users,n=e.profile,r={columns:_},i=t;Object(E.get)(n,"role","")===b.Marketing_Manager&&(i=Object(E.filter)(i,function(e){return e.role!==b.Admin})),Object(E.get)(n,"role","")===b.Cordinator&&(i=Object(E.filter)(i,function(e){return e.role!==b.Admin&&e.role!==b.Marketing_Manager&&e.role!==b.Cordinator&&e.faculty===Object(E.get)(n,"faculty","")}));var o=Object(E.map)(i,function(e){return{email:e.email,firstName:e.firstName,lastName:e.lastName,role:e.role,faculty:e.faculty}});return r.rows=o,r},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.users;return Object(E.isEmpty)(a)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement(B.a,{striped:!0,bordered:!0,small:!0,data:this.getUserData()})):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),be=Object(A.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,users:e.firestore.ordered.users}},function(e){return{dispatchApproveProjects:function(t){return e(z(t))}}}),Object(F.firestoreConnect)(["users"]))(he),fe=[{value:"design",label:"Design"},{value:"it",label:"IT"},{value:"marketing",label:"Marketing"}],ge=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Cordinator,label:b.Cordinator}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(T.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(T.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props.users;this.isLoaded||Object(E.isEmpty)(e)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-e.length.toString().length)).concat(e.length)}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.authError,i=t.users,o=t.isLoading,l=this.state,c=l.faculty,s=l.role;return Object(E.isEmpty)(a.uid)?r.a.createElement(p.a,{to:"/"}):Object(E.isEmpty)(i)||o?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Account"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),s.value===b.Cordinator&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Choose the faculty:"),r.a.createElement(H.a,{styles:{option:function(e,t){return Object(q.a)({},e,{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:10})},singleValue:function(e,t){var a=t.isDisabled?.5:1;return Object(q.a)({},e,{opacity:a,transition:"opacity 300ms"})}},value:c,onChange:function(t){return e.handleSelectChange("faculty",t)},options:fe})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Create Account")),n&&r.a.createElement("h7",{className:"red-text text-darken-3"},n)))}}]),t}(n.Component),Ee=Object(A.d)(Object(h.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(F.firestoreConnect)(["users"]))(ge),ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).isLoaded=!1,a.state={email:"",password:"",lastName:"",firstName:"",studentId:"",faculty:{},role:{value:b.Student,label:b.Student}},a.handeChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(T.a)({},n,r))},a.handleSelectChange=function(e,t){a.setState(Object(T.a)({},e,t))},a.handleSubmit=function(e){var t=a.props.dispatchSignUp;e.preventDefault(),t(a.state)},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.users,a=e.profile;this.isLoaded||Object(E.isEmpty)(t)||Object(E.isEmpty)(a.faculty)||(this.setState({studentId:"GCS".concat(Object(E.repeat)("0",5-t.length.toString().length)).concat(t.length),faculty:{value:a.faculty,label:a.faculty}}),this.isLoaded=!0)}},{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError,n=e.users,i=e.isLoading;return Object(E.isEmpty)(t.uid)?r.a.createElement(p.a,{to:"/"}):Object(E.isEmpty)(n)||i?r.a.createElement(O,{isLoading:!0}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Students"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Username"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handeChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"CREATE")),a&&r.a.createElement("h7",{className:"red-text text-darken-3"},a)))}}]),t}(n.Component),je=Object(A.d)(Object(h.b)(function(e){return{authError:e.auth.authError,isLoading:e.auth.isLoading,auth:e.firebase.auth,users:e.firestore.ordered.users,profile:e.firebase.profile,asd:e.firestore.ordered}},function(e){return{dispatchSignUp:function(t){return e(g(t))}}}),Object(F.firestoreConnect)(["users"]))(ve),Oe=a(437),ye=a(438),Ce=a.n(ye),Ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={checkItem:{},project_ids:[]},a.getContributionsByFaculty=function(e){var t=a.props.posts,n=Object(E.filter)(t,function(t){return t.faculty===e});return Object(E.reduce)([0,1,2,3,4,5,6,7,8,9,10,11],function(e,t){var a=e,r=Object(E.filter)(n,function(e){return new Date(e.createdDateTime).getMonth()===t});return Object(E.isEmpty)(r)?[].concat(Object(G.a)(a),[0]):[].concat(Object(G.a)(a),[r.length])},[])},a.getChartData=function(){return{labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"Marketing",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:a.getContributionsByFaculty("Marketing")},{label:"IT",backgroundColor:"rgba(152,251,152, 0.2)",borderColor:"rgba(0,100,0)",borderWidth:1,hoverBackgroundColor:"rgba(152,251,152, 0.6)",hoverBorderColor:"rgba(0,100,0)",data:a.getContributionsByFaculty("IT")},{label:"Design",backgroundColor:"rgba(135,206,250, 0.2)",borderColor:"rgba(0,191,255)",borderWidth:1,hoverBackgroundColor:"rgba(135,206,250, 0.4)",hoverBorderColor:"rgba(0,191,255)",data:a.getContributionsByFaculty("Design")}]}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.posts,n=e.isLoading,i=e.profile,o=e.windowWidth;return console.log(o,"windowWidth"),n?r.a.createElement(O,{isLoading:!0}):Object(E.isEmpty)(a)||Object(E.isEmpty)(i)?r.a.createElement(O,{isLoading:!0}):t.uid?r.a.createElement("div",{className:"container"},r.a.createElement("h5",{style:{fontWeight:"bold",marginTop:10}},"Number of Reports By Month of Each Faculty"),r.a.createElement(Oe.a,{data:this.getChartData(),height:o>1e3?500:300,options:{maintainAspectRatio:!1}})):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),Se=Object(A.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,isLoading:e.project.isLoading,profile:e.firebase.profile}},function(e){}),Object(F.firestoreConnect)(["projects","users","posts"]))(Ce()(Ne)),ke=a(876),we=a(877),Le=a(439),Ie=a(424),Te=a(878),De=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={textValue:""},a.getPostById=function(){var e=a.props,t=e.posts,n=e.match;return Object(E.find)(t,function(e){return e.id===n.params.id})},a.getCommentData=function(){var e=a.getPostById(),t=[].concat(Object(G.a)(Object(E.get)(e,"comment",[])),Object(G.a)(Object(E.get)(e,"reply",[])));return console.log(t,"replyDataComment"),t.sort(function(e,t){var a=new Date(e.dateTime);return new Date(t.dateTime)-a}),t},a.getStatusColor=function(e){return console.log(e,"status"),e===f.Reject?"danger":e===f.Pending?"warning":e===f.Approved?"success":e===f.Publish?"primary":void 0},a.approveProject=function(e){var t=a.props;(0,t.dispatchApproveProjects)([t.match.params.id],e)},a.onChangeText=function(e){a.setState({textValue:e.target.value})},a.onCommentOrReply=function(){var e=a.props,t=e.dispatchCommentOrReplyProject,n=e.profile,r=e.match,i=a.state.textValue,o="Student"===n.role?"reply":"comment",l={data:i,teacherId:n.userId,teacherName:n.firstName+n.lastName,dateTime:(new Date).toString(),status:o};t(r.params.id,l,o),a.setState({textValue:""})},a.onDownload=function(){return a.getPostById().fileURL},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.posts,i=t.profile,o=t.isLoading,l=t.match,c=this.state.textValue,s=this.getPostById();return Object(E.isEmpty)(n)||Object(E.isEmpty)(i)||o?r.a.createElement(O,{isLoading:!0}):a.uid?r.a.createElement(ke.a,null,r.a.createElement(we.a,{style:{marginTop:20}},r.a.createElement(Le.a,{sm:8},r.a.createElement("h2",null," ",r.a.createElement("h4",{style:{fontWeight:"bold"}},"Title:"),s.title),r.a.createElement("p",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Description:"),s.description),r.a.createElement("p",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Status:"),r.a.createElement(Ie.a,{variant:this.getStatusColor(s.status)},s.status)),r.a.createElement("p",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Create Date Time:"),s.createdDateTime),r.a.createElement("p",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Updated Date Time: "),s.updatedDateTime||"Not Update Yet"),r.a.createElement("h3",null,r.a.createElement("h5",{style:{fontWeight:"bold"}},"Student Name: ")," ",s.studentName)),"Student"===i.role?r.a.createElement(Le.a,{sm:4,className:"right"},("pending"===this.getPostById().status||"reject"===this.getPostById().status)&&r.a.createElement(Ie.a,{variant:"primary",href:"/editProject/".concat(l.params.id)},"Edit"),r.a.createElement(Ie.a,{variant:"pink",href:"/contributionDetail/".concat(l.params.id)},"View File"),r.a.createElement(Ie.a,{variant:"pink",href:this.getPostById().fileURL},"Download")):r.a.createElement(Le.a,{sm:4,className:"right"},r.a.createElement(Ie.a,{variant:"primary",onClick:function(){return e.approveProject("approved")}},"Approve"),r.a.createElement(Ie.a,{variant:"danger",onClick:function(){return e.approveProject("reject")}},"Reject"),r.a.createElement(Ie.a,{variant:"pink",href:"/contributionDetail/".concat(l.params.id)},"View File"),r.a.createElement(Ie.a,{variant:"pink",href:this.getPostById().fileURL},"Download"))),r.a.createElement(we.a,null,r.a.createElement(Le.a,null,r.a.createElement(Te.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(Te.a.Label,null,"Feedback"),r.a.createElement(Te.a.Control,{value:c,onChange:this.onChangeText,style:{resize:"none"},as:"textarea",rows:"4"})),r.a.createElement(Ie.a,{onClick:this.onCommentOrReply,variant:"primary",className:"right"},"Student"===i.role?"Reply":"Comment"))),!Object(E.isEmpty)(this.getCommentData())&&r.a.createElement(we.a,null,r.a.createElement(Le.a,null,this.getCommentData().map(function(e){return r.a.createElement("div",{style:{borderRadius:10,marginLeft:"reply"===e.status?300:0,marginRight:"comment"===e.status?300:0,marginBottom:10,padding:10,paddingBottom:1,paddingTop:5},className:"reply"===e.status?"light-blue":"light-green"},r.a.createElement("h6",{className:"left"},r.a.createElement("b",null,"Name: "),e.teacherName),r.a.createElement("h6",{className:"right"},r.a.createElement("b",null,"DateTime: "),e.dateTime),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,e.data))})))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),Pe=Object(A.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered,posts:e.firestore.ordered.posts,profile:e.firebase.profile,isLoading:e.project.isLoading}},function(e){return{dispatchCommentOrReplyProject:function(t,a,n){return e(function(e,t,a){return function(n,r,i){i.getFirebase;var o=(0,i.getFirestore)(),l=r();console.log(l.firestore.ordered.posts,"asdajosd");var c=Object(E.find)(l.firestore.ordered.posts,function(t){return t.id===e}),s=Object(E.get)(c,a,[]);return n({type:"COMMENT_PROJECT"}),o.collection("posts").doc(e).set(Object(T.a)({updatedDateTime:(new Date).toString()},a,[].concat(Object(G.a)(s),[t])),{merge:!0}).then(function(){n({type:"COMMENT_PROJECT_SUCCESS"})}).catch(function(e){console.log(e,"errrr")})}}(t,a,n))},dispatchApproveProjects:function(t,a){return e(z(t,a))}}}),Object(F.firestoreConnect)(["projects","users","posts"]))(De),Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",wordFile:"",url:"",agreeTermAndPolicies:!1,isFirstLoading:!1},a.handleSubmit=function(e){var t=a.props.dispatchCreateProject;e.preventDefault(),t(a.state)},a.getPostById=function(){var e=a.props,t=e.posts,n=e.match;return console.log(t,"posts"),Object(E.find)(t,function(e){return e.id===n.params.id})},a.handleChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(T.a)({},n,r))},a.handleFileUpload=function(e){var t,n=e.target,r=n.id,i=n.value,o=n.files;a.setState((t={},Object(T.a)(t,r,i),Object(T.a)(t,"wordFile",o[0]),t))},a.onCheckItem=function(e){a.setState({agreeTermAndPolicies:e.target.checked})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.state.isFirstLoading,a=this.getPostById();t||Object(E.isEmpty)(a)||this.setState({title:a.title,description:a.description,isFirstLoading:!0},function(){console.log(e.state)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.auth,n=t.profile,i=t.isLoading,o=this.state,l=o.agreeTermAndPolicies,c=o.title,s=o.description,u=o.url;return i?r.a.createElement(O,{isLoading:!0}):n.isEmpty?r.a.createElement(O,{isLoading:!0}):a.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Create Contributions"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{value:c,type:"text",id:"title",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{value:s,type:"text",id:"description",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("input",{type:"file",id:"url",onChange:this.handleFileUpload})),r.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",direction:"row"}},r.a.createElement("label",{style:{marginTop:10}},r.a.createElement(Q.a,{onChange:function(t,a){return e.onCheckItem(t)}})),"I accept Greenwich University Contribution's"," ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Terms_of_service"},"Terms & Conditions")),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{disabled:!l||Object(E.isEmpty)(u),className:"btn pink lighten-1 z-depth-0"},"Submit")))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),Ae=Object(A.d)(Object(h.b)(function(e){return{auth:e.firebase.auth,profile:e.firebase.profile,isLoading:e.project.isLoading,posts:e.firestore.ordered.posts}},function(e){return{dispatchCreateProject:function(t){return e(J(t))}}}),Object(F.firestoreConnect)(["posts"]))(Fe),Ue=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(I,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/signin",component:P}),r.a.createElement(p.b,{path:"/home",component:K}),r.a.createElement(p.b,{path:"/createProject",component:$}),r.a.createElement(p.b,{path:"/editProject/:id",component:Ae}),r.a.createElement(p.b,{path:"/contributionDetail/:id",component:se}),r.a.createElement(p.b,{path:"/viewDetail/:id",component:Pe}),r.a.createElement(p.b,{path:"/contributions",component:ie}),r.a.createElement(p.b,{path:"/signUp",component:ee}),r.a.createElement(p.b,{path:"/createStudents",component:je}),r.a.createElement(p.b,{path:"/createAccount",component:pe}),r.a.createElement(p.b,{path:"/createCordinators",component:Ee}),r.a.createElement(p.b,{path:"/students",component:be}),r.a.createElement(p.b,{path:"/reports",component:Se})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re={authError:null,isLoading:!1},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(q.a)({},e,{authError:null,isLoading:!0});case"LOGIN_ERROR":return console.log(t.err.code,"asdiahsd"),"auth/user-not-found"===t.err.code?Object(q.a)({},e,{authError:"User Name not found. Please try again",isLoading:!1}):"auth/wrong-password"===t.err.code?Object(q.a)({},e,{authError:"Wrong Password. Please try again",isLoading:!1}):Object(q.a)({},e,{authError:"Login failed",isLoading:!1});case"LOGIN_SUCCESS":return Object(q.a)({},e,{authError:null,isLoading:!1});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP":return Object(q.a)({},e,{isLoading:!0,authError:null});case"SIGNUP_SUCCESS":return console.log("signup success"),Object(q.a)({},e,{authError:null,isLoading:!1});case"SIGNUP_ERROR":return console.log("signup error"),Object(q.a)({},e,{authError:t.err.message,isLoading:!1});default:return e}},_e={isLoading:!1},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;switch((arguments.length>1?arguments[1]:void 0).type){case"CREATE_PROJECT":return Object(q.a)({},e,{isLoading:!0});case"CREATE_PROJECT_SUCCESS":case"APPROVE_PROJECT_SUCCESS":return Object(q.a)({},e,{isLoading:!1});case"APPROVE_PROJECT":case"COMMENT_PROJECT":return Object(q.a)({},e,{isLoading:!0});case"COMMENT_PROJECT_SUCCESS":return Object(q.a)({},e,{isLoading:!1});default:return e}},Be=a(139),Ge=Object(A.c)({auth:xe,project:Me,firestore:Be.firestoreReducer,firebase:F.firebaseReducer}),Ve=a(440),Je=a(194),ze=a.n(Je);a(872),a(873);ze.a.initializeApp({apiKey:"AIzaSyB6srSMJ45h1Ld-p4b44sGPKba33AmfVQU",authDomain:"testschool-30bdb.firebaseapp.com",databaseURL:"https://testschool-30bdb.firebaseio.com",projectId:"testschool-30bdb",storageBucket:"testschool-30bdb.appspot.com",messagingSenderId:"322977217549"});ze.a.storage;var We=ze.a,Ke=Object(A.e)(Ge,Object(A.d)(Object(A.a)(Ve.a.withExtraArgument({getFirebase:F.getFirebase,getFirestore:Be.getFirestore})),Object(Be.reduxFirestore)(We),Object(F.reactReduxFirebase)(We,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0})));Ke.firebaseAuthIsReady.then(function(){o.a.render(r.a.createElement(h.a,{store:Ke},r.a.createElement(Ue,null)),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[442,1,2]]]);
//# sourceMappingURL=main.e6cb186c.chunk.js.map